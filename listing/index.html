<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta property="og:image" content="/assets/favicon_io/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="180x180"
      href="/assets/favicon_io/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/assets/favicon_io/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/assets/favicon_io/favicon-16x16.png"
    />
    <link rel="stylesheet" href="../src/css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;500&display=swap">
    <script type="module" src="../src/js/main.js"></script>
    <script
      src="https://kit.fontawesome.com/5d32d5fe01.js"
      crossorigin="anonymous"
    ></script>
    <title>Listing</title>
  </head>
  <body>
    <!-- Back Button and Image -->
    <header class="header-elements realtive h-auto w-full flex justify-between items-center">
      <button
        id="back-btn"
        class="z-10 relative bg-white h-10 w-10 rounded-full shadow-md cursor-pointer m-3"
      >
        <i class="fa-solid fa-arrow-left"></i>
      </button>
      <!-- Profile -->
      <a
        class="profile-toggle h-full items-center z-20 cursor-pointer m-3"
        href="/profile/"
      >
        <img
          src=""
          alt="Profile"
          class="profile-pic object-cover h-[60px] w-[60px] rounded-full shadow-md"
        />
    </a>
    </header>
    <div class="img-container relative -top-10 -m-11 max-h-[500px]">
      <img
        id="product-image"
        src=""
        alt="Product Image"
        class="object-contain max-h-[500px] w-full"
      />
      <p id="countdown-timer" class="-translate-y-5"></p>
    </div>

    <!-- Product Stats -->
    <section
      class="product-stats flex justify-evenly items-center bg-white/10 backdrop-blur-md shadow-md py-4"
    >
      <div>
        <p class="text-gray-400 text-sm">Biddings:</p>
        <p id="biddings-count" class="text-lg font-bold text-gray-300">0</p>
      </div>
      <div>
        <p class="text-gray-400 text-sm">Last bid:</p>
        <p id="price" class="text-lg font-bold text-gray-300">0 NOK</p>
      </div>
      <div>
        <p class="text-gray-400 text-sm">Date listed:</p>
        <p id="date-created" class="text-lg font-bold text-gray-300"></p>
      </div>
    </section>

    <!-- Product Info -->
    <section class="relative p-4">
      <button 
      id="edit-listing-btn" 
      class="tab-buttons absolute right-0 mr-2">
        <i class="fa-solid fa-pencil"></i>
        Edit
      </button>
      <h1 id="product-title" class="text-xl break-words font-bold text-gray-300 pb-2">
        Product Title
      </h1>
      <p id="product-category" class="text-gray-400 text-sm">
        Category: <span class="font-medium">Clothes</span>
      </p>
      <p id="product-seller" class="text-gray-400 text-sm">
        Seller: <span class="font-medium">John Doe</span>
      </p>
      <p id="start-price" class="text-gray-400 text-sm">
        Start pirce: <span class="font-medium">John Doe</span>
      </p>
      <p id="product-description" class="mt-4 break-words text-gray-300">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
        gravida.
      </p>
    </section>

    <!-- Credit and Bid Form -->
    <section
      class="bid-container bg-white/10 backdrop-blur-md shadow-md pt-4 pb-6 px-4"
    >
      <span class="user-credit flex text-gray-300 font-bold">
        <p>Credit:</p>
        <p class="credit-amount text-accent font-light pl-2"></p>
      </span>
      <form id="bid-form" class="mt-4 flex gap-4">
        <input
          type="number"
          id="bid-amount"
          name="bid-amount"
          placeholder=""
          class="border border-gray-300 p-2 rounded-lg flex-1"
          required
          min=""
        />
        <button type="submit" class="pink-buttons">Place Bid</button>
      </form>
    </section>

    <!-- Last Bids -->
    <section class="p-4">
      <h2 class="text-lg font-bold mb-2 text-gray-300">Last Bids</h2>
      <div id="last-bids" class="space-y-4"></div>

      <!-- pagination -->
      <div class="pagination flex justify-center items-center mt-4 pb-[100px]">
        <button class="first-page-btn text-accent mr-3">
          <i class="fa-solid fa-backward"></i>
        </button>
        <button class="prev-btn pink-buttons">
          <i class="fa-solid fa-arrow-left"></i>
        </button>
        <p class="page-info text-white m-2">1/1</p>
        <button class="next-btn pink-buttons">
          <i class="fa-solid fa-arrow-right"></i>
        </button>
        <button class="last-page-btn text-accent ml-3">
          <i class="fa-solid fa-forward"></i>
        </button>
      </div>
    </section>

    <!-- Edit Listing Modal -->

    <div
      id="edit-listing-container"
      class="hidden absolute top-1/2 left-1/2 w-[70%] p-2 bg-white border-2 border-black -translate-x-1/2 -translate-y-1/2"
    >
      <form id="edit-listing-form" class="flex flex-col gap-4">
        <!-- Image URL -->
        <div>
          <label for="item-image-url">Image URL</label>
          <input
            type="url"
            id="item-image-url"
            name="item-image-url"
            placeholder="Enter image URL"
            class="border border-gray-300 p-2"
          />
          <!-- Image Preview -->
          <div id="image-preview" class="mt-4">
            <img
              id="preview-image"
              src=""
              alt="Item preview"
              class="hidden w-full h-48 object-cover border border-gray-300"
            />
          </div>
        </div>
        <!-- Item Name -->
        <div>
          <label for="item-name">Item Name</label>
          <input
            type="text"
            id="item-name"
            name="item-name"
            required
            class="border border-gray-300 p-2"
          />
        </div>

        <!-- Item Description -->
        <div>
          <label for="item-description">Description</label>
          <input
            type="text"
            id="item-description"
            name="item-description"
            required
            class="border border-gray-300 p-2"
          />
        </div>

        <!-- Tags -->
        <div>
          <label for="item-category">Category</label>
          <select
            id="item-category"
            name="item-category"
            required
            class="border border-gray-300 p-2"
          >
            <option value="" disabled selected>Select a category</option>
            <option value="clothes">Clothes</option>
            <option value="arts">Arts</option>
            <option value="electronics">Electronics</option>
            <option value="cars">Cars</option>
            <option value="vehicles">Vehicles</option>
            <option value="properties">Properties</option>
          </select>
        </div>

        <!-- Buttons -->
        <div class="flex justify-between mt-4">
          <!-- Submit Button -->
          <button type="submit" class="bg-blue-500 text-white p-2 rounded">
            Confirm
          </button>

          <!-- Cancel Button -->
          <button
            type="button"
            id="cancel-edit-btn"
            class="bg-red-500 text-white p-2 rounded"
          >
            Cancel
          </button>
          <button
            type="button"
            id="delete-btn"
            class="bg-red-500 text-white p-2 rounded"
          >
            Delete
          </button>
        </div>
      </form>
    </div>

    <!-- Delete confirm modal -->
    <div
      id="delete-modal"
      class="hidden absolute top-1/2 left-1/2 w-[70%] p-2 bg-white border-2 border-black -translate-x-1/2 -translate-y-1/2"
    >
      <p>Are you sure you want to delete this listing? This can't be undone.</p>
      <button
        type="button"
        class="bg-red-500 text-white p-2 rounded"
        id="confirm-delete-btn"
      >
        Delete
      </button>
      <button
        type="button"
        class="bg-blue-500 text-white p-2 rounded"
        id="cancel-delete-btn"
      >
        Cancel
      </button>
    </div>

    <!-- Navigation Bar -->
    <nav
      class="mobile-nav z-20 fixed bottom-0 left-1/2 transform -translate-x-1/2 flex justify-evenly items-center w-[80%] p-2 m-2 bg-white/20 backdrop-blur-md text-white text-xl rounded-full shadow-md md:hidden"
    >
      <a href="/" class="flex justify-center items-center w-[50px] h-[50px] rounded-full">
        <i class="fa-solid fa-house"></i>
      </a>
      <a href="#" class="px-3 py-2 rounded-full">
        <i class="fa-solid fa-message"></i>
      </a>
      <a href="#" class="px-3 py-2 rounded-full">
        <i class="fa-solid fa-bell"></i>
      </a>
      <a href="/profile/" class="px-3 py-2 rounded-full">
        <i class="fa-solid fa-user"></i>
      </a>
    </nav>
  </body>
</html>
